!function(){"use strict";var a,b=this;a="undefined"!=typeof exports?exports:b.Bobun={},a.VERSION="0.4.0";var c=b._;c||"undefined"==typeof require||(c=require("underscore"));var d=b.Backbone;d||"undefined"==typeof require||(d=require("backbone")),d.ChildViewContainer=b.Backbone?b.Backbone.ChildViewContainer:void 0,d.ChildViewContainer||"undefined"==typeof require||(d.ChildViewContainer=require("backbone.babysitter")),a.Binding=function(b){return b instanceof a.Binding?b:this instanceof a.Binding?(this._wrapped=b,void 0):new a.Binding(b)};var e=function(a){return a="string"==typeof a?[a]:a,c.isArray(a)?c.object(a,a):a};a.Binding.bindTo=function(a,b,d){return a&&b&&d?(d=e(d),c.each(d,function(c,d){a.on("change:"+d,function(a,d){b.set(c,d)})}),a):void 0},a.Binding.bind=function(b,d,f){return f=e(f),a.Binding.bindTo(b,d,f),a.Binding.bindTo(d,b,c.invert(f)),b},c.each(["bindTo","bind"],function(b){a.Binding.prototype[b]=function(){return a.Binding[b].apply(this._wrapped,[this._wrapped].concat(c.toArray(arguments)))}}),a.View=d.View.extend({template:null,_configure:function(){d.View.prototype._configure.apply(this,arguments),this.views=new d.ChildViewContainer(this.options.views||[]),this.on("change:views",function(){this.views=new d.ChildViewContainer(this.options.views||[]),this.render()}),c.each(this.options,function(a,b){this._bindModelOption(b)},this)},_bindModelOption:function(a,b){var c,d,e;b=b||this.model,c=this.options[a],b&&a&&"string"==typeof c&&(d=c.match(/model\.(.*)/),d&&(e={},e[a]=d[1],this.bind(b,e),this.set(a,b.get(d[1]),{silent:!0})))},append:function(a,b){return this.views.add(a),b=b||this.$el,b=c.isString(b)?this.$el.find(b):d.$(b),b.append(a.render().el),a.delegateEvents(),this},assign:function(a,b){return this.views.add(b),b.setElement(this.$(a)).render(),this},toJSON:function(){return{collection:this.collection?this.collection.toJSON():null,model:this.model?this.model.toJSON():null}},render:function(){return this.template&&this.$el.html(this.template(this.toJSON())),this},domEventTriggerProxy:function(a){this.trigger("$"+a.type,a,this)},remove:function(){return d.View.prototype.remove.apply(this,arguments),this.clearViews()},clearViews:function(){return this.views.each(c.bind(function(a){this.views.remove(a.remove())},this)),this},stopListening:function(){d.View.prototype.stopListening.apply(this,arguments),this.views.invoke.apply(this.views,["stopListening"].concat(c.toArray(arguments)))}}),c.each(["set","get","_validate","previous"],function(b){a.View.prototype[b]=function(){var a,c=this.attributes;return this.attributes=this.options,a=d.Model.prototype[b].apply(this,arguments),this.attributes=c,a}}),c.each(["bindTo","bind"],function(b){a.View.prototype[b]=function(){return a.Binding[b].apply(this,[this].concat(c.toArray(arguments)))}})}.call(this);
/*
//@ sourceMappingURL=bobun.min.map
*/